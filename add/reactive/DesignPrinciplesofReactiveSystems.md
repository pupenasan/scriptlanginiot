# Принципи проектування реактивних систем

![image-20240101204815809](E:\san\AKIT\ДИСЦИП\Скриптові мови в Інтернеті речей\gitver\add\reactive\media\image-20240101204815809.png)

Якщо ви бачите цю картинку вперше, вас можуть збентежити всі стрілки. Це може виглядати як добре розроблена маркетингова кампанія. Це не так, і давайте пояснимо, чому ці стовпи мають великий сенс при створенні нативних хмарних програм і додатків Kubernetes. Почнемо з нижньої частини фігури.

Замість того, щоб намагатися зробити розподілені системи простішими, ніж вони є, реактивні системи приймають свою асинхронну природу. Вони використовують асинхронну передачу повідомлень для створення сполучної тканини серед компонентів. Асинхронна передача повідомлень забезпечує слабкий зв’язок, ізоляцію та прозорість розташування. У реактивній системі взаємодії ґрунтуються на повідомленнях, які надсилаються абстрактним адресатам. У цих повідомленнях міститься все — як дані, так і помилки. Асинхронна передача повідомлень також покращує використання ресурсів. Використання неблокуючого зв’язку (ми розглянемо цю частину далі в цьому розділі) дозволяє неактивним компонентам майже не споживати ЦП і пам’ять. Асинхронна передача повідомлень забезпечує еластичність і стійкість, як показано двома нижніми стрілками на малюнку 4-1.

*Еластичність* означає, що система може адаптуватися сама або її частини, щоб витримувати коливання навантаження. Дивлячись на повідомлення, що передаються між компонентами, система може визначити, які частини досягли своїх меж, і створити більше екземплярів або спрямувати повідомлення в інше місце. Хмарна інфраструктура дозволяє швидко створювати ці екземпляри під час виконання. Але еластичність — це не лише розширення; це також стосується зменшення масштабу. Система може вирішити зменшити недостатньо використовувані частини для економії ресурсів. Під час виконання система налаштовується, завжди задовольняючи поточний попит, уникаючи вузьких місць, переповнень і надмірних ресурсів. Як ви можете собі уявити, еластичність потребує спостережливості, реплікації та функцій маршрутизації. Спостережливість розглядається в розділі 13. Загалом, останні два забезпечуються такою інфраструктурою, як Kubernetes або хмарними провайдерами.

*Стійкість* означає витончене поводження з невдачами. Як пояснювалося в розділі 3, збої неминучі в розподілених системах. Замість того, щоб приховувати їх, реактивні системи вважають невдачі першокласними громадянами. Система повинна вміти їх обробляти та реагувати на них. Відмови містяться в кожному компоненті, ізолюючи компоненти один від одного. Ця ізоляція гарантує, що частини системи можуть виходити з ладу та відновлюватися без загрози для всієї системи. Наприклад, завдяки реплікації компонентів (еластичність) система може продовжувати обробляти вхідні повідомлення, навіть якщо деякі елементи виходять з ладу. Реалізація стійкості розподіляється між програмою (яка має знати про збої, стримувати їх і, якщо можливо, витончено їх обробляти) та інфраструктурою (яка відстежує системи та перезапускає несправні компоненти).

Остання характеристика є цільовою метою реактивних систем: бути *чутливими*. Ваша система повинна залишатися чуйною — щоб своєчасно реагувати — навіть за коливань навантаження (еластичність) і при збоях (стійкість). Передача повідомлень забезпечує ці характеристики та багато іншого, як-от керування потоком шляхом моніторингу повідомлень у системі та застосування зворотного тиску, коли це необхідно.

У двох словах, реактивні системи – це саме те, що ми хочемо створити: розподілені системи, здатні ефективно справлятися з невизначеністю, збоями та навантаженням. Їх характеристики ідеально відповідають вимогам до хмарних і рідних додатків Kubernetes. Але не помиляйтеся; створення реактивної системи все ще означає створення розподіленої системи. Це складно. Однак, дотримуючись цих принципів, кінцева система буде більш чутливою, надійнішою та ефективнішою. Решта цієї книги детально описує, як ми можемо легко реалізувати такі системи за допомогою Quarkus і технологій обміну повідомленнями.